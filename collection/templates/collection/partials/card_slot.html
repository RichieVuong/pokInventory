<div
    class="aspect-[2.5/3.5] relative rounded-lg bg-slate-200/50 border-2 border-slate-200 flex items-center justify-center group overflow-hidden transition-all duration-300 hover:border-yellow-400 hover:shadow-lg">
    {% if card %}
    <img src="{{ card.image_url }}" alt="{{ card.name }}" class="w-full h-full object-cover">

    <!-- Hover Info -->
    <div
        class="absolute inset-0 bg-black/70 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex flex-col items-center justify-center text-white p-2 text-center pointer-events-none">

        <!-- Delete Button -->
        <div class="absolute top-2 right-2 pointer-events-auto">
            <form action="{% url 'delete_card' card.id %}" method="POST"
                onsubmit="return confirm('Delete this card?');">
                {% csrf_token %}
                <input type="hidden" name="page" value="{{ page }}">
                <button type="submit" class="text-red-400 hover:text-red-500 transition-colors p-1" title="Delete Card">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                    </svg>
                </button>
            </form>
        </div>
        <span class="font-bold text-sm">{{ card.name }}</span>
        <span class="text-xs text-gray-300">{{ card.card_id }}</span>
        <span class="text-xs text-yellow-400 mt-1">{{ card.set_name }}</span>
    </div>
    {% else %}
    <!-- Empty Slot: "Add Card" on Hover -->
    <div
        class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-black/10 backdrop-blur-[2px]">
        <button hx-get="{% url 'binder' binder.id %}?modal=true" hx-target="body" hx-swap="beforeend"
            class="bg-yellow-500 hover:bg-yellow-400 text-white font-bold py-2 px-4 rounded-full shadow-lg transform scale-90 group-hover:scale-105 transition-transform flex items-center gap-2 cursor-pointer">
            <span>+</span> Add Card
        </button>
    </div>
    {% endif %}
</div>